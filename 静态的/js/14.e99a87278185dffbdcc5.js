webpackJsonp([14],{194:function(t,i,s){"use strict";function a(t){s(332)}Object.defineProperty(i,"__esModule",{value:!0});var c=s(239),n=s.n(c);for(var e in c)"default"!==e&&function(t){s.d(i,t,function(){return c[t]})}(e);var r=s(334),l=s(2),o=a,m=Object(l.a)(n.a,r.a,r.b,!1,o,"data-v-8e0abac4",null);i.default=m.exports},203:function(t,i,s){"use strict";function a(t){return d(c(p(t),t.length*h))}function c(t,i){t[i>>5]|=128<<i%32,t[14+(i+64>>>9<<4)]=i;for(var s=1732584193,a=-271733879,c=-1732584194,n=271733878,u=0;u<t.length;u+=16){var p=s,d=a,_=c,v=n;s=e(s,a,c,n,t[u+0],7,-680876936),n=e(n,s,a,c,t[u+1],12,-389564586),c=e(c,n,s,a,t[u+2],17,606105819),a=e(a,c,n,s,t[u+3],22,-1044525330),s=e(s,a,c,n,t[u+4],7,-176418897),n=e(n,s,a,c,t[u+5],12,1200080426),c=e(c,n,s,a,t[u+6],17,-1473231341),a=e(a,c,n,s,t[u+7],22,-45705983),s=e(s,a,c,n,t[u+8],7,1770035416),n=e(n,s,a,c,t[u+9],12,-1958414417),c=e(c,n,s,a,t[u+10],17,-42063),a=e(a,c,n,s,t[u+11],22,-1990404162),s=e(s,a,c,n,t[u+12],7,1804603682),n=e(n,s,a,c,t[u+13],12,-40341101),c=e(c,n,s,a,t[u+14],17,-1502002290),a=e(a,c,n,s,t[u+15],22,1236535329),s=r(s,a,c,n,t[u+1],5,-165796510),n=r(n,s,a,c,t[u+6],9,-1069501632),c=r(c,n,s,a,t[u+11],14,643717713),a=r(a,c,n,s,t[u+0],20,-373897302),s=r(s,a,c,n,t[u+5],5,-701558691),n=r(n,s,a,c,t[u+10],9,38016083),c=r(c,n,s,a,t[u+15],14,-660478335),a=r(a,c,n,s,t[u+4],20,-405537848),s=r(s,a,c,n,t[u+9],5,568446438),n=r(n,s,a,c,t[u+14],9,-1019803690),c=r(c,n,s,a,t[u+3],14,-187363961),a=r(a,c,n,s,t[u+8],20,1163531501),s=r(s,a,c,n,t[u+13],5,-1444681467),n=r(n,s,a,c,t[u+2],9,-51403784),c=r(c,n,s,a,t[u+7],14,1735328473),a=r(a,c,n,s,t[u+12],20,-1926607734),s=l(s,a,c,n,t[u+5],4,-378558),n=l(n,s,a,c,t[u+8],11,-2022574463),c=l(c,n,s,a,t[u+11],16,1839030562),a=l(a,c,n,s,t[u+14],23,-35309556),s=l(s,a,c,n,t[u+1],4,-1530992060),n=l(n,s,a,c,t[u+4],11,1272893353),c=l(c,n,s,a,t[u+7],16,-155497632),a=l(a,c,n,s,t[u+10],23,-1094730640),s=l(s,a,c,n,t[u+13],4,681279174),n=l(n,s,a,c,t[u+0],11,-358537222),c=l(c,n,s,a,t[u+3],16,-722521979),a=l(a,c,n,s,t[u+6],23,76029189),s=l(s,a,c,n,t[u+9],4,-640364487),n=l(n,s,a,c,t[u+12],11,-421815835),c=l(c,n,s,a,t[u+15],16,530742520),a=l(a,c,n,s,t[u+2],23,-995338651),s=o(s,a,c,n,t[u+0],6,-198630844),n=o(n,s,a,c,t[u+7],10,1126891415),c=o(c,n,s,a,t[u+14],15,-1416354905),a=o(a,c,n,s,t[u+5],21,-57434055),s=o(s,a,c,n,t[u+12],6,1700485571),n=o(n,s,a,c,t[u+3],10,-1894986606),c=o(c,n,s,a,t[u+10],15,-1051523),a=o(a,c,n,s,t[u+1],21,-2054922799),s=o(s,a,c,n,t[u+8],6,1873313359),n=o(n,s,a,c,t[u+15],10,-30611744),c=o(c,n,s,a,t[u+6],15,-1560198380),a=o(a,c,n,s,t[u+13],21,1309151649),s=o(s,a,c,n,t[u+4],6,-145523070),n=o(n,s,a,c,t[u+11],10,-1120210379),c=o(c,n,s,a,t[u+2],15,718787259),a=o(a,c,n,s,t[u+9],21,-343485551),s=m(s,p),a=m(a,d),c=m(c,_),n=m(n,v)}return Array(s,a,c,n)}function n(t,i,s,a,c,n){return m(u(m(m(i,t),m(a,n)),c),s)}function e(t,i,s,a,c,e,r){return n(i&s|~i&a,t,i,c,e,r)}function r(t,i,s,a,c,e,r){return n(i&a|s&~a,t,i,c,e,r)}function l(t,i,s,a,c,e,r){return n(i^s^a,t,i,c,e,r)}function o(t,i,s,a,c,e,r){return n(s^(i|~a),t,i,c,e,r)}function m(t,i){var s=(65535&t)+(65535&i);return(t>>16)+(i>>16)+(s>>16)<<16|65535&s}function u(t,i){return t<<i|t>>>32-i}function p(t){for(var i=Array(),s=(1<<h)-1,a=0;a<t.length*h;a+=h)i[a>>5]|=(t.charCodeAt(a/h)&s)<<a%32;return i}function d(t){for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s="",a=0;a<4*t.length;a+=3)for(var c=(t[a>>2]>>a%4*8&255)<<16|(t[a+1>>2]>>(a+1)%4*8&255)<<8|t[a+2>>2]>>(a+2)%4*8&255,n=0;n<4;n++)8*a+6*n>32*t.length?s+=f:s+=i.charAt(c>>6*(3-n)&63);return s}function _(t){for(var i=[],s=0;s<t.length;s++)i.push(t.charAt(s).charCodeAt(0));return i}function v(t){for(var i="",s=0;s<t.length;s++)i+=String.fromCharCode(t[s]);return i}function g(t){t+="";for(var i=_("3go8&$8*3*3h0k(2)2"),s=_(t),c=0;c<s.length;c++)s[c]=s[c]^i[c%i.length];s=v(s);var n=a(s);return n=n.replace(/\//g,"_"),n=n.replace(/\+/g,"-"),"http://p4.music.126.net/"+(n+="==")+"/"+t+".jpg"}var f="",h=8;t.exports={id2Url:g}},239:function(t,i,s){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(i,"__esModule",{value:!0});var c=s(18),n=a(c),e=s(19),r=a(e),l=s(17),o=a(l),m=s(16),u=s(42),p=a(u),d=(s(28),s(27)),_=(a(d),s(203)),v=a(_);i.default={name:"playing",data:function(){return{loaded:!1,id:0,showlrc:!1,cover:"",pop_tg:0}},beforeRouteEnter:function(t,i,s){s(function(i){if(parseInt(t.params.id)!==parseInt(i.music.id)||1!=i.playtype||!i.playurl){if(console.log("enter playing page"),i.$store.commit("setplaytype",1),i.bgmchange&&i.music.id)return void i.$router.replace({name:"playing",params:{id:i.music.id},query:{img:(i.music.al||i.music.album).pic}});i.loaded=!1,i.$store.commit("setmusic"),i.$store.commit("resetmusic"),i.showlrc=!1,i.get()}})},beforeRouteLeave:function(t,i,s){this.pop_tg=0,this.showlrc=!1,s()},watch:{showlrc:function(t){t&&!this.lrcObj.code&&this.loadLrc(this.music.id)}},methods:(0,o.default)({loadLrc:function(t){t&&this.$store.dispatch("getlrc",t)},playingtoggle:function(){this.$store.commit("setplaying",!this.playing)},get:function(){var t=this;return(0,r.default)(n.default.mark(function i(){var s;return n.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return s=t.$route.query.img,s&&(t.cover=v.default.id2Url(s)),i.next=4,t.$store.dispatch("getmusic",t.$route.params.id);case 4:t.getcommit(),-1==t.list_am.findIndex(function(i){return i.id==t.music.id})&&(t.list_am.splice(t.index_am+1,0,t.music),t.$store.commit("setindex",t.index_am+1));case 6:case"end":return i.stop()}},i,t)}))()},getcommit:function(){var t=this;p.default.comments(this.music.id,0,2).then(function(i){t.$store.commit("commentscount",i.data.total)})},heart:function(){this.music.id&&this.$store.dispatch("heart",{id:this.music.id,t:this.star})},tracktpl:function(t){this.$store.dispatch("tracktpl",{id:this.music.id,pid:t,add:!0})},psaction:function(){this.pop_tg=3}},(0,m.mapMutations)(["playindex","delplaylist","shuffle"])),computed:(0,o.default)({playlist:function(){},star:function(){return this.music.id?this.likeall.indexOf(this.music.id)+1:0}},(0,m.mapState)(["playing","music","shuffle_am","likeall","lrcObj","commentscount","list_am","playurl","playtype","bgmchange","uplaylist","index_am"]))}},332:function(t,i,s){var a=s(333);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var c=s(172).default;c("6dd99922",a,!0,{})},333:function(t,i,s){i=t.exports=s(171)(!1),i.push([t.i,".mint-header[data-v-8e0abac4]{background:transparent;border-bottom:1px solid hsla(0,0%,100%,.2)}.blurbg[data-v-8e0abac4]{z-index:0;height:100%;padding:0;background-position:50%;background-size:auto 100%}",""])},334:function(t,i,s){"use strict";s.d(i,"a",function(){return a}),s.d(i,"b",function(){return c});var a=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{class:t.playing?"playing":"",attrs:{id:"playingpage"}},[s("mt-header",{attrs:{fixed:"",title:t.music.name||" - "+(t.music.ar||t.music.artists||[])[0].name}},[s("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:function(i){return t.$router.go(-1)}},slot:"left"})],1),t._v(" "),s("div",{staticClass:"blurbg",style:{"background-image":"url("+(t.cover||(t.music.al||t.music.album||{}).picUrl)+"?param=500y500)"},attrs:{id:"playing-bg"}}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.showlrc,expression:"!showlrc"}],attrs:{id:"playing-zz"},on:{click:function(i){t.showlrc=!t.showlrc}}},[s("img",{attrs:{src:"static/images/aag.png"}})]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.showlrc,expression:"!showlrc"}],attrs:{id:"playing-main"},on:{click:function(i){t.showlrc=!t.showlrc}}},[s("img",{attrs:{id:"playingmainbg",src:"static/images/play.png"}}),t._v(" "),s("div",{style:{"background-image":"url("+(t.cover||(t.music.al||t.music.album||{}).picUrl)+"?param=200y200)"},attrs:{bindtap:"loadlrc",id:"pmaincover"}})]),t._v(" "),s("div",{attrs:{id:"lrclist"},on:{click:function(i){t.showlrc=!t.showlrc}}},[s("lrcTpl",{attrs:{lrc:t.lrcObj,showlrc:t.showlrc,lrcindex:"1"}})],1),t._v(" "),s("div",{attrs:{id:"playing-actwrap"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.showlrc,expression:"!showlrc"}],attrs:{id:"playing-info"}},[s("div",{staticClass:"pi-act",on:{click:t.heart}},[s("img",{attrs:{src:"static/images/cm2_play_icn_"+(t.star?"loved":"love")+"@2x.png"}})]),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"pi-act commentscount"},[s("router-link",{attrs:{to:{name:"comment",params:{id:t.music.id},query:{ctype:2}}}},[t.commentscount?t._e():s("img",{attrs:{src:"static/images/cm2_play_icn_cmt@2x.png"}}),t._v(" "),t.commentscount?s("img",{attrs:{src:"static/images/cm2_play_icn_cmt_num@2x.png"}}):t._e(),t._v(" "),t.commentscount?s("span",[t._v(t._s(t.commentscount>999?"999+":t.commentscount))]):t._e()])],1),t._v(" "),s("div",{staticClass:"pi-act",on:{click:function(i){t.pop_tg=1}}},[s("img",{attrs:{src:"static/images/cm2_play_icn_more@2x.png"}})])]),t._v(" "),s("playaction",{on:{psaction:t.psaction}})],1),t._v(" "),s("pop",{attrs:{show:1==t.pop_tg},on:{closepop:function(i){t.pop_tg=0}}},[s("div",{staticClass:"ppm_header"},[t._v(t._s(t.music.name))]),t._v(" "),s("div",{staticClass:"ppm_content"},[s("div",{staticClass:"menu"},[s("div",{staticClass:"mn_list",on:{click:function(i){t.pop_tg=2}}},[s("div",{staticClass:"mn_ico"},[s("img",{attrs:{src:"static/images/cm2_lay_icn_fav_new@2x.png",alt:""}})]),t._v(" "),s("div",{staticClass:"cmain"},[t._v("收藏到歌单")])]),t._v(" "),s("router-link",{staticClass:"mn_list",attrs:{replace:"",to:{name:"simi",params:{id:t.music.id}}}},[s("div",{staticClass:"mn_ico"},[s("img",{attrs:{src:"static/images/cm2_lay_icn_similar_new@2x.png",alt:""}})]),t._v(" "),s("div",{staticClass:"cmain"},[t._v("相似推荐")])]),t._v(" "),(t.music.ar||t.music.artists)[0].id?s("router-link",{staticClass:"mn_list",attrs:{replace:"",to:{name:"artist",params:{id:(t.music.ar||t.music.artists)[0].id}}}},[s("div",{staticClass:"mn_ico"},[s("img",{attrs:{src:"static/images/cm2_lay_icn_artist_new@2x.png",alt:""}})]),t._v(" "),s("div",{staticClass:"cmain"},[t._v("歌手："+t._s((t.music.ar||t.music.artists)[0].name))])]):t._e(),t._v(" "),(t.music.al||t.music.album).id?s("router-link",{staticClass:"mn_list",attrs:{replace:"",to:{name:"album",params:{id:(t.music.al||t.music.album).id},query:{img:(t.music.al||t.music.album).pic_str||(t.music.al||t.music.album).pic}}}},[s("div",{staticClass:"mn_ico"},[s("img",{attrs:{src:"static/images/cm2_lay_order_album_new@2x.png",alt:""}})]),t._v(" "),s("div",{staticClass:"cmain"},[t._v("专辑："+t._s((t.music.al||t.music.album).name))])]):t._e(),t._v(" "),t.music.mv?s("router-link",{staticClass:"mn_list",attrs:{to:{name:"mv",params:{id:t.music.mv}}}},[s("div",{staticClass:"mn_ico"},[s("img",{attrs:{src:"static/images/cm2_lay_icn_mv_new@2x.png",alt:""}})]),t._v(" "),s("div",{staticClass:"cmain"},[t._v("查看Mv")])]):t._e()],1)])]),t._v(" "),s("pop",{attrs:{show:2==t.pop_tg},on:{closepop:function(i){t.pop_tg=0}}},[s("div",{staticClass:"ppm_header"},[t._v("收藏到歌单")]),t._v(" "),s("div",{staticClass:"ppm_content"},t._l(t.uplaylist,function(i){return s("div",{key:i.id,staticClass:"flexlist flex-image",on:{click:function(s){return t.tracktpl(i.id)}}},[s("div",{staticClass:"flexlist"},[s("div",{staticClass:"flexleft fl-image ml"},[s("img",{staticClass:"album_cover",attrs:{src:i.coverImgUrl+"?param=100y100"}})]),t._v(" "),s("div",{staticClass:"flexmain"},[s("div",[t._v(t._s(i.name))]),t._v(" "),s("div",{staticClass:"relistdes"},[t._v(t._s(i.trackCount)+"首")])])])])}),0)]),t._v(" "),s("pop",{attrs:{show:3==t.pop_tg},on:{closepop:function(i){t.pop_tg=0}}},[s("div",{staticClass:"ppm_header"},[s("div",{staticClass:"pph_cnt",on:{click:t.shuffle}},[s("img",{attrs:{src:"static/images/cm2_play_btn_"+(0==t.shuffle_am?"loop":1==t.shuffle_am?"one":"shuffle")+"@2x.png",alt:""}}),t._v(t._s(1==t.shuffle?"列表循环":2==t.shuffle?"单曲循环":"随机播放")+"（"+t._s(t.list_am.length)+"）")]),t._v(" "),s("div",{staticClass:"pph_cnt"},[s("div",[s("img",{attrs:{src:"static/images/cm2_btmlay_btn_fav_prs@2x.png",alt:""}}),s("span",[t._v("收藏")])]),t._v(" "),s("div",{on:{click:function(i){t.delplaylist(),t.pop3=!1}}},[s("img",{attrs:{src:"static/images/cm2_btmlay_btn_dlt_prs@2x.png",alt:""}}),s("span",[t._v("清空")])])])]),t._v(" "),s("div",{staticClass:"ppm_content"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.list_am.length,expression:"!list_am.length"}],staticClass:"cntloading"},[t._v("列表为空")]),t._v(" "),t._l(t.list_am,function(i,a){return s("div",{key:i.id,class:"flexlist ml flex-center "+(i.id===t.music.id?"cur ":" "),on:{click:function(i){return t.playindex(a)}}},[s("div",{staticClass:"flexlist"},[i.id===t.music.id?s("div",{staticClass:"flexleft "},[s("div",[s("img",{attrs:{src:"static/images/aal.png",alt:""}})])]):t._e(),t._v(" "),s("div",{staticClass:"flexmain"},[s("div",[t._v(t._s(i.name)+" - "),s("span",[t._v(t._s((i.ar||i.artists)[0].name))])])]),t._v(" "),s("div",{staticClass:"flexact"},[s("div",{staticClass:"fa_list",on:{click:function(i){return i.stopPropagation(),t.delplaylist(a)}}},[s("img",{attrs:{src:"static/images/cm2_playlist_icn_dlt@2x.png",alt:""}})])])])])})],2)])],1)},c=[function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"pi-act",attrs:{bindtap:"downmusic"}},[s("img",{attrs:{src:"static/images/cm2_list_detail_icn_share@2x.png"}})])}]}});